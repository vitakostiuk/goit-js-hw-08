{"version":3,"sources":["js/03-feedback.js"],"names":["keyForStorage","formRef","document","querySelector","data","onInputForm","evt","target","name","value","dataJson","JSON","stringify","localStorage","setItem","savedData","getItem","dataParsed","parse","savedInput","elements","email","message","onSubmitForm","preventDefault","currentTarget","finalData","console","log","reset","removeItem","addEventListener"],"mappings":";AAAA,MAAMA,EAAgB,sBAEhBC,EAAUC,SAASC,cAAc,kBAEvC,IAAIC,EAAO,GAEX,MAAMC,EAAcC,IAClBF,EAAKE,EAAIC,OAAOC,MAAQF,EAAIC,OAAOE,MAE7BC,MAAAA,EAAWC,KAAKC,UAAUR,GAChCS,aAAaC,QAAQd,EAAeU,IAGhCK,EAAYF,aAAaG,QAAQhB,GACjCiB,EAAaN,KAAKO,MAAMH,GAExBI,EAAa,KACjBlB,EAAQmB,SAASC,MAAMZ,MAAuB,OAAfQ,EAAsBA,EAAWI,MAAQ,GACxEpB,EAAQmB,SAASE,QAAQb,MAAuB,OAAfQ,EAAsBA,EAAWK,QAAU,IAD5ErB,EAAQmB,SAASC,MAAMZ,MAAuB,OAAfQ,EAAsBA,EAAWI,MAAQ,GACxEpB,EAAQmB,SAASE,QAAQb,MAAuB,OAAfQ,EAAsBA,EAAWK,QAAU,GAI9E,MAAMC,EAAejB,IACnBA,EAAIkB,iBAEE,MACJJ,UAAU,MAAEC,EAAF,QAASC,IACjBhB,EAAImB,cAEJJ,GAAgB,KAAhBA,EAAMZ,OAAkC,KAAlBa,EAAQb,MAChC,OAEIiB,MAAAA,EAAY,CAChBL,MAAOpB,EAAQmB,SAASC,MAAMZ,MAC9Ba,QAASrB,EAAQmB,SAASE,QAAQb,OAElCkB,QAAQC,IAAIF,GAEdpB,EAAImB,cAAcI,QAClBhB,aAAaiB,WAAW9B,GACxBI,EAAO,IAGTH,EAAQ8B,iBAAiB,QAAS1B,GAClCJ,EAAQ8B,iBAAiB,SAAUR","file":"03-feedback.eb1dd228.js","sourceRoot":"../src","sourcesContent":["const keyForStorage = 'feedback-form-state';\n\nconst formRef = document.querySelector('.feedback-form');\n\nlet data = {};\n\nconst onInputForm = evt => {\n  data[evt.target.name] = evt.target.value;\n  \n  const dataJson = JSON.stringify(data);\n  localStorage.setItem(keyForStorage, dataJson);\n}\n\nconst savedData = localStorage.getItem(keyForStorage);\nconst dataParsed = JSON.parse(savedData);\n\nconst savedInput = () => {\n  formRef.elements.email.value = dataParsed !== null ? dataParsed.email : '';\n  formRef.elements.message.value = dataParsed !== null ? dataParsed.message : '';\n}\nsavedInput();\n\nconst onSubmitForm = evt => {\n  evt.preventDefault();\n  \n  const {\n    elements: { email, message }\n  } = evt.currentTarget;\n  \n  if (email.value === '' || message.value === '') {\n    return;\n  }\n  const finalData = {\n    email: formRef.elements.email.value,\n    message: formRef.elements.message.value,\n  }\n    console.log(finalData);\n  \n  evt.currentTarget.reset();\n  localStorage.removeItem(keyForStorage);\n  data = {};\n}\n\nformRef.addEventListener('input', onInputForm);\nformRef.addEventListener('submit', onSubmitForm);"]}